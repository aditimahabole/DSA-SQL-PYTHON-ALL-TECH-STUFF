//https://www.geeksforgeeks.org/print-words-together-set-characters/

// C++ program to print all words that have
// the same unique character set
#include<bits/stdc++.h>
using namespace std;
#define MAX_CHAR 26

// Generates a key from given string. The key
// contains all unique characters of given string in
// sorted order consisting of only distinct elements.
string getKey(string &str)
{
	bool visited[MAX_CHAR] = { false };

	// store all unique characters of current
	// word in key
	for (int j = 0; j < str.length(); j++)
	{
	    visited[str[j] - 'a'] = true ;
	    cout<<"___________________________________________"<<endl;
	    cout<<"str[j]                =  "<<str[j]<<endl;
	    cout<<"str[j]-'a'            =  "<<str[j]-'a'<<endl;
	    cout<<"visited[str[j] - 'a'] =  "<<visited[str[j] - 'a']<<endl;
	    cout<<"___________________________________________"<<endl;
	    
	}
	
	string key = "";
	for (int j=0; j < MAX_CHAR; j++)
	{
	    if (visited[j])
	    {
	        cout<<"___________________________________________"<<endl;
	        key = key + (char)('a'+j);
	        cout<<"j     = "<<j<<endl;
	        cout<<"'a'+j = "<<(char)('a'+j)<<endl;
	        cout<<"key   = "<<key<<endl;
	        cout<<"___________________________________________"<<endl;
	    }
			
	}
		
	return key;
}

// Print all words together with same character sets.
void wordsWithSameCharSet(string words[], int n)
{
	// Stores indexes of all words that have same
	// set of unique characters.
	unordered_map <string, vector <int> > Hash;

	// Traverse all words
	for (int i=0; i<n; i++)
	{
	    cout<<"---------------"<<endl;
	    cout<<"the word is : "<<words[i]<<endl;
	    cout<<"---------------"<<endl;
		string key = getKey(words[i]);
		Hash[key].push_back(i);
	}

	// print all words that have the same unique character set
	for (auto it = Hash.begin(); it!=Hash.end(); it++)
	{
	for (auto v=(*it).second.begin(); v!=(*it).second.end(); v++)
		cout << words[*v] << ", ";
	cout << endl;
	}
}

// Driver program to test above function
int main()
{
	string words[] = 
	{ "may", "student", 
	  "students", "dog",
	  "studentssess", "god",
	  "cat", "act", "tab",
	  "bat", "flow","wolf",
	  "lambs", "amy","yam",
	  "balms","looped","poodle"
	 };
	int n = sizeof(words)/sizeof(words[0]);
	wordsWithSameCharSet(words, n);
	return 0;
}
/* OUTPUT : 
/tmp/HvoBzQPvQk.o
---------------
the word is : may
---------------
___________________________________________
str[j]                =  m
str[j]-'a'            =  12
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  y
str[j]-'a'            =  24
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 12
'a'+j = m
key   = am
___________________________________________
___________________________________________
j     = 24
'a'+j = y
key   = amy
___________________________________________
---------------
the word is : student
---------------
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  u
str[j]-'a'            =  20
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  n
str[j]-'a'            =  13
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 4
'a'+j = e
key   = de
___________________________________________
___________________________________________
j     = 13
'a'+j = n
key   = den
___________________________________________
___________________________________________
j     = 18
'a'+j = s
key   = dens
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = denst
___________________________________________
___________________________________________
j     = 20
'a'+j = u
key   = denstu
___________________________________________
---------------
the word is : students
---------------
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  u
str[j]-'a'            =  20
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  n
str[j]-'a'            =  13
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 4
'a'+j = e
key   = de
___________________________________________
___________________________________________
j     = 13
'a'+j = n
key   = den
___________________________________________
___________________________________________
j     = 18
'a'+j = s
key   = dens
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = denst
___________________________________________
___________________________________________
j     = 20
'a'+j = u
key   = denstu
___________________________________________
---------------
the word is : dog
---------------
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  g
str[j]-'a'            =  6
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 6
'a'+j = g
key   = dg
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = dgo
___________________________________________
---------------
the word is : studentssess
---------------
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  u
str[j]-'a'            =  20
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  n
str[j]-'a'            =  13
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 4
'a'+j = e
key   = de
___________________________________________
___________________________________________
j     = 13
'a'+j = n
key   = den
___________________________________________
___________________________________________
j     = 18
'a'+j = s
key   = dens
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = denst
___________________________________________
___________________________________________
j     = 20
'a'+j = u
key   = denstu
___________________________________________
---------------
the word is : god
---------------
___________________________________________
str[j]                =  g
str[j]-'a'            =  6
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 6
'a'+j = g
key   = dg
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = dgo
___________________________________________
---------------
the word is : cat
---------------
___________________________________________
str[j]                =  c
str[j]-'a'            =  2
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 2
'a'+j = c
key   = ac
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = act
___________________________________________
---------------
the word is : act
---------------
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  c
str[j]-'a'            =  2
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 2
'a'+j = c
key   = ac
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = act
___________________________________________
---------------
the word is : tab
---------------
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  b
str[j]-'a'            =  1
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 1
'a'+j = b
key   = ab
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = abt
___________________________________________
---------------
the word is : bat
---------------
___________________________________________
str[j]                =  b
str[j]-'a'            =  1
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  t
str[j]-'a'            =  19
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 1
'a'+j = b
key   = ab
___________________________________________
___________________________________________
j     = 19
'a'+j = t
key   = abt
___________________________________________
---------------
the word is : flow
---------------
___________________________________________
str[j]                =  f
str[j]-'a'            =  5
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  w
str[j]-'a'            =  22
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 5
'a'+j = f
key   = f
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = fl
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = flo
______________________________________________________________________________________
j     = 22
'a'+j = w
key   = flow
___________________________________________
---------------
the word is : wolf
---------------
___________________________________________
str[j]                =  w
str[j]-'a'            =  22
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  f
str[j]-'a'            =  5
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 5
'a'+j = f
key   = f
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = fl
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = flo
___________________________________________
___________________________________________
j     = 22
'a'+j = w
key   = flow
___________________________________________
---------------
the word is : lambs
---------------
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  m
str[j]-'a'            =  12
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  b
str[j]-'a'            =  1
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 1
'a'+j = b
key   = ab
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = abl
___________________________________________
___________________________________________
j     = 12
'a'+j = m
key   = ablm
___________________________________________
___________________________________________
j     = 18
'a'+j = s
key   = ablms
___________________________________________
---------------
the word is : amy
---------------
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  m
str[j]-'a'            =  12
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  y
str[j]-'a'            =  24
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 12
'a'+j = m
key   = am
___________________________________________
___________________________________________
j     = 24
'a'+j = y
key   = amy
___________________________________________
---------------
the word is : yam
---------------
___________________________________________
str[j]                =  y
str[j]-'a'            =  24
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
______________________________________________________________________________________
str[j]                =  m
str[j]-'a'            =  12
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 12
'a'+j = m
key   = am
___________________________________________
___________________________________________
j     = 24
'a'+j = y
key   = amy
___________________________________________
---------------
the word is : balms
---------------
___________________________________________
str[j]                =  b
str[j]-'a'            =  1
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  a
str[j]-'a'            =  0
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  m
str[j]-'a'            =  12
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  s
str[j]-'a'            =  18
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 0
'a'+j = a
key   = a
___________________________________________
___________________________________________
j     = 1
'a'+j = b
key   = ab
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = abl
___________________________________________
___________________________________________
j     = 12
'a'+j = m
key   = ablm
___________________________________________
___________________________________________
j     = 18
'a'+j = s
key   = ablms
___________________________________________
---------------
the word is : looped
---------------
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  p
str[j]-'a'            =  15
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 4
'a'+j = e
key   = de
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = del
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = delo
___________________________________________
___________________________________________
j     = 15
'a'+j = p
key   = delop
___________________________________________
---------------
the word is : poodle
---------------
___________________________________________
str[j]                =  p
str[j]-'a'            =  15
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  o
str[j]-'a'            =  14
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  d
str[j]-'a'            =  3
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  l
str[j]-'a'            =  11
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
str[j]                =  e
str[j]-'a'            =  4
visited[str[j] - 'a'] =  1
___________________________________________
___________________________________________
j     = 3
'a'+j = d
key   = d
___________________________________________
___________________________________________
j     = 4
'a'+j = e
key   = de
___________________________________________
___________________________________________
j     = 11
'a'+j = l
key   = del
___________________________________________
___________________________________________
j     = 14
'a'+j = o
key   = delo
___________________________________________
___________________________________________
j     = 15
'a'+j = p
key   = delop
___________________________________________
lambs, balms, 
looped, poodle, 
tab, bat, 
cat, act, 
flow, wolf, 
dog, god, 
student, students, studentssess, 
may, amy, yam, 

*/
